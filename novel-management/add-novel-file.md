# 파일로 소설 추가

이미 가지고 있는 TXT 또는 EPUB 파일을 불러와서 소설을 추가하는 방법입니다.

---

## 지원 파일 형식

| 형식 | 확장자 | 특징 |
|------|--------|------|
| **텍스트** | .txt | 단순 텍스트, 회차 분리 필요 |
| **EPUB** | .epub | 전자책 표준, 챕터 구조 자동 인식 |

---

## 추가 단계

### 1단계: 파일 탭 선택

라이브러리에서 **+** 버튼을 클릭한 후, **파일** 탭을 선택합니다.

[사진: 파일 탭 선택 화면]

### 2단계: 파일 선택

"파일 선택" 버튼을 클릭하여 파일을 선택합니다.

[사진: 파일 선택 버튼]

> **팁**: 파일 탐색기에서 TXT 또는 EPUB 파일을 선택하세요.

---

## TXT 파일 처리

### 회차 분리

TXT 파일은 하나의 긴 텍스트이므로 회차로 분리해야 합니다.

[사진: 회차 분리 설정 화면]

### 분리 방식

| 방식 | 설명 | 예시 |
|------|------|------|
| **자동 감지** | 패턴을 자동으로 분석하여 분리 | - |
| **제목 패턴** | 정규식으로 회차 제목 패턴 지정 | `제\d+장`, `Chapter \d+` |
| **구분선** | 특정 구분 문자열로 분리 | `===`, `---` |
| **줄 수** | 일정 줄 수마다 분리 | 500줄마다 |

### 자동 감지

대부분의 경우 자동 감지로 충분합니다.

1. "자동 감지" 선택
2. 미리보기에서 분리 결과 확인
3. 잘못된 경우 수동 설정으로 전환

[사진: 자동 감지 결과 미리보기]

### 수동 패턴 설정

자동 감지가 정확하지 않은 경우:

1. "수동 설정" 선택
2. 분리 패턴 입력 (정규식 지원)
3. 미리보기로 결과 확인

[사진: 수동 패턴 입력]

**예시 패턴**:
- `^제\s*\d+\s*장` - "제1장", "제 2 장" 등
- `^Chapter\s+\d+` - "Chapter 1", "Chapter 25" 등
- `^={3,}$` - "===" 구분선

---

## EPUB 파일 처리

EPUB 파일은 챕터 구조가 이미 정의되어 있습니다.

### 자동 인식

1. 파일 선택 시 자동으로 챕터 분석
2. 목차(TOC) 기반으로 회차 분리
3. 각 챕터의 제목과 내용 추출

[사진: EPUB 챕터 목록]

### 챕터 확인

추출된 챕터 목록을 미리보기로 확인합니다.

| 체크 | 회차 | 제목 |
|------|------|------|
| ☑️ | 1 | 프롤로그 |
| ☑️ | 2 | 제1장 시작 |
| ☑️ | 3 | 제2장 만남 |
| ... | ... | ... |

필요한 경우 특정 챕터를 제외할 수 있습니다.

---

## 소설 정보 입력

### 메타데이터 입력

파일에서 추출할 수 없는 정보는 직접 입력합니다.

[사진: 소설 정보 입력 폼]

| 항목 | 필수 | 설명 |
|------|------|------|
| 제목 | ✅ | 소설 제목 |
| 작가 | ❌ | 작가명 |
| 설명 | ❌ | 소설 소개 |

> **EPUB**: 파일에 메타데이터가 있으면 자동으로 채워집니다.

---

## 미리보기

저장 전에 분리된 회차를 미리볼 수 있습니다.

[사진: 회차 미리보기]

### 확인 사항

- 회차 수가 예상과 맞는지
- 각 회차의 제목이 올바른지
- 첫 번째/마지막 회차 내용이 정상인지

---

## 저장

모든 설정을 확인했다면 "가져오기" 버튼을 클릭합니다.

[사진: 저장 버튼]

---

## 인코딩 문제

TXT 파일이 깨져서 표시되는 경우, 인코딩 문제일 수 있습니다.

### 해결 방법

1. 원본 파일을 UTF-8로 저장
2. 또는 인코딩 선택 옵션에서 올바른 인코딩 선택

[사진: 인코딩 선택]

**일반적인 인코딩**:
- UTF-8 (권장)
- EUC-KR (한국어 레거시)
- Shift-JIS (일본어)
- GB2312 (중국어 간체)
- Big5 (중국어 번체)

---

## 대용량 파일

대용량 파일은 처리에 시간이 걸릴 수 있습니다.

### 권장 사항

- 10MB 이하 파일 권장
- 매우 큰 파일은 미리 분할하여 추가
- 처리 중 앱을 닫지 마세요

---

## 문제 해결

### "파일을 읽을 수 없습니다"
- 파일이 손상되지 않았는지 확인
- 지원되는 형식(TXT/EPUB)인지 확인
- 파일 권한 확인

### 텍스트가 깨져서 표시됨
- 인코딩 설정 변경
- 파일을 UTF-8로 재저장

### 회차가 제대로 분리되지 않음
- 수동 패턴 설정 사용
- 패턴을 더 구체적으로 지정

### EPUB 챕터가 누락됨
- EPUB 파일의 목차(TOC) 구조 확인
- 목차가 없는 EPUB은 분리가 어려울 수 있음

---

[← URL로 소설 추가](add-novel-url.md) | [다음: 텍스트 직접 입력 →](add-novel-text.md)
